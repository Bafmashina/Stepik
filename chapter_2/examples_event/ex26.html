<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css" id="theme">
  <title>Пример 26 - Выделяемый список</title>
</head>

<body>
  <ul id="list">
    <li>Item 1</li>
    <li>Item 2</li>
    <li>Item 3</li>
    <li>Item 4</li>
    <li>Item 5</li>
    <li>Item 6</li>
  </ul>
  <script>
    // Обработка клика по элементам
    list.onclick = function(e) {
      if(e.target.tagName != `LI`) return
      if(e.ctrlKey || e.metaKey) {
        toggleSelect(e.target)
      } else {
        singleSelect(e.target)
      }
    }

    // Убираем выделение текста при двойном клике
    list.onmousedown = function() {
      return false
    }

    // Функции для выбора элементов через "CTRL"
    function toggleSelect(li) {
      li.classList.toggle(`bgc`)
    }

    // Функция для выбора элемента через клик
    function singleSelect(li) {
      for(let elem of list.querySelectorAll(`.bgc`)) {
        elem.classList.remove(`bgc`)
      }
      li.classList.add(`bgc`)
    }
  </script>
</body>

</html>